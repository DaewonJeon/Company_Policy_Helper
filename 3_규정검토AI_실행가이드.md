# [프로젝트 2] 사내 규정/계약서 검토 AI 비서: 실행 가이드

> **목적**: 비전공자도 따라 할 수 있는 **"AI 학습 및 챗봇 실행"** 완벽 가이드입니다.
> **소요 시간**: 초기 세팅 약 15분 (API 키 발급 포함)

---

## 1. 사전 준비 사항 (Prerequisites)

### 1.1 OpenAI API 키 발급
이 프로젝트는 GPT-4o의 지능을 빌려 쓰는 방식이므로, OpenAI의 열쇠(Key)가 필요합니다.

1.  [OpenAI Platform](https://platform.openai.com/api-keys) 접속 및 로그인.
2.  `+ Create new secret key` 버튼 클릭.
3.  생성된 키(sk-...)를 복사해서 메모장에 둡니다. (생성 직후 한 번만 보여주니 주의!)
4.  **결제 카드 등록**: `Settings` -> `Billing`에 해외 결제 가능한 카드가 등록되어 있어야 작동합니다. (테스트용으로 $5 정도 충전 권장)

### 1.2 Python 설치
*   이미 설치하셨다면 패스! (터미널에 `python --version` 쳐서 버전 나오면 OK)

---

## 2. 프로젝트 세팅 (Setup)

### 2.1 폴더 및 가상환경 준비
바탕화면에 `ai_secretary` 폴더를 만들고, [구현 코드] 문서의 파일들을 생성해둔 상태여야 합니다.

터미널(PowerShell)을 열고 입력하세요:

```powershell
cd ai_secretary
python -m venv venv
.\venv\Scripts\activate  # 가상환경 켜기 (앞에 (venv)가 뜨면 성공)
```

### 2.2 라이브러리 설치
AI 관련 도구들을 설치합니다. (용량이 좀 커서 1~2분 걸릴 수 있어요)

```powershell
pip install -r requirements.txt
```

### 2.3 환경변수 파일 생성 (.env)
폴더 안에 `.env` 라는 이름의 파일을 만들고, 아까 복사한 키를 붙여넣으세요.

```text
OPENAI_API_KEY=sk-proj-1234567890abcdef...
```

---

## 3. 데이터 학습시키기 (Step 1: Ingestion)

AI에게 우리 회사의 규정집을 공부시키는 단계입니다.

1.  **PDF 준비**: `data` 폴더 안에 공부시킬 PDF 파일들을 넣으세요. (예: `인사규정_2024.pdf`)
2.  **학습 실행**: 터미널에 아래 명령어를 입력합니다.

```powershell
python ingest.py
```

3.  **결과 확인**:
    *   `🔄 문서 학습을 시작합니다...`
    *   `📊 총 50개의 지식 조각으로 분해되었습니다.`
    *   `✅ 학습 완료!`
    *   폴더 안에 `chroma_db`라는 새로운 폴더가 생겼다면 성공입니다. 이것이 AI의 두뇌(지식 저장소)입니다.

> **Tip**: 나중에 PDF를 추가하거나 내용을 바꾸면, 이 단계를 다시 실행해주면 됩니다.

---

## 4. 챗봇 실행하기 (Step 2: Service)

이제 공부한 내용을 바탕으로 질문을 받아봅시다.

```powershell
streamlit run app.py
```

잠시 후 브라우저가 열리면서 채팅창이 뜹니다.

### 💡 질문 예시
*   "경조사 휴가는 며칠 인가요?"
*   "야근 식대 청구 기준이 어떻게 되나요?"
*   "계약서 3조에 독소 조항이 있나요?" (계약서를 넣었을 경우)

AI는 **제공된 PDF 내용 안에서만** 근거를 찾아 답변하며, 답변 아래에 몇 페이지를 참조했는지 출처를 알려줍니다.

---

## 5. 자주 묻는 질문 (Troubleshooting)

**Q. `RateLimitError`가 떠요.**
A. OpenAI 계정에 결제 카드가 등록되지 않았거나($5 미만 잔액), 사용 한도를 초과한 경우입니다. Billing 페이지를 확인해주세요.

**Q. 답변이 너무 느려요.**
A. 컴퓨터 성능보다는 인터넷 속도와 OpenAI 서버 상태의 영향을 받습니다. 보통 3~5초 정도 걸립니다.

**Q. 엉뚱한 대답을 해요.**
A. PDF 내용이 너무 적거나, 질문과 관련된 키워드가 문서에 없을 수 있습니다. `app.py` 코드의 `system_prompt` 부분을 수정해서 AI의 성격을 튜닝해볼 수 있습니다.
